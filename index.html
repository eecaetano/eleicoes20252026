<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Vota√ß√£o Gr√™mio Estudantil</title>

  <!-- Open Graph (miniatura para WhatsApp e redes sociais) -->
  <meta property="og:title" content="Gr√™mio Estudantil - Elei√ß√µes 2025">
  <meta property="og:description" content="Vote aqui! Dia 23/09 a partir das 8:00h">
  <meta property="og:image" content="https://www.exemplo.com/imagens/miniatura.jpg">
  <meta property="og:url" content="https://www.exemplo.com">
  <meta property="og:type" content="website">

  <style>
    /* Aqui vai o seu CSS */
body {
font-family: Arial, sans-serif;
background: linear-gradient(135deg, #0056a6, #00b4d8);
color: #fff;
text-align: center;
margin: 0;
padding: 0;
}
header {
padding: 20px;
background: rgba(0,0,0,0.3);
font-size: 1.8em;
font-weight: bold;
letter-spacing: 1px;
}
form {
background: white;
color: black;
max-width: 400px;
margin: 30px auto;
padding: 20px;
border-radius: 12px;
box-shadow: 0px 4px 12px rgba(0,0,0,0.4);
text-align: left;
display: none; /* come√ßa oculto */
}
label {
display: block;
font-weight: bold;
margin-top: 10px;
}
input[type="text"] {
width: 100%;
padding: 8px;
margin-top: 5px;
border-radius: 6px;
border: 1px solid #ccc;
}
input[type="radio"] {
margin-right: 5px;
}
button {
background: #0056a6;
color: white;
border: none;
padding: 12px 18px;
margin-top: 15px;
font-size: 1em;
border-radius: 8px;
cursor: pointer;
width: 100%;
transition: 0.2s;
}
button:hover {
background: #0077cc;
transform: scale(1.02);
}
#mensagem {
margin-top: 20px;
font-weight: bold;
font-size: 1.2em;
}
#contador {
font-size: 1.5em;
font-weight: bold;
margin-top: 30px;
background: rgba(0,0,0,0.4);
padding: 10px;
border-radius: 8px;
display: inline-block;
}
</style>
</head>
<body>
<header><p>üó≥Ô∏è Elei√ß√£o do Gr√™mio Estudantil 2025</p> 
        <p>Escola Caetano de Campos</p></header>

<div id="contador">‚è≥ Aguardando abertura da vota√ß√£o...</div>

<form id="formVoto">
<label>Nome Completo:</label>
<input type="text" id="nome" placeholder="Digite seu nome" required>

<label>S√©rie:</label>
<input type="text" id="serie" placeholder="Ex: 8¬∫A, 3¬∫B" required>

<label>Escolha seu voto:</label>
<input type="radio" name="voto" value="Just Do It" required> Just Do It üéØ

<button type="submit">CONFIRMAR VOTO</button>
</form>

<p id="mensagem"></p>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbz-z5CWCEXldFDy7S2peavqYkjONXHCtA0QJqeUqXPwCn_suOMOr3eh96bNo__SSH3_DA/exec";

// DEFINA AQUI A DATA E HORA DE IN√çCIO E FIM
const inicio = new Date("2025-09-23T08:00:00-03:00"); // 23/09 √†s 08:00
const fim = new Date("2025-09-23T18:00:00-03:00"); // 23/09 √†s 18:00

const contador = document.getElementById("contador");
const form = document.getElementById("formVoto");

function atualizarContador() {
const agora = new Date();

if (agora < inicio) {
const diff = inicio - agora;
const h = String(Math.floor(diff / (1000*60*60))).padStart(2, "0");
const m = String(Math.floor((diff % (1000*60*60)) / (1000*60))).padStart(2, "0");
const s = String(Math.floor((diff % (1000*60)) / 1000)).padStart(2, "0");
contador.textContent = `üïí Vota√ß√£o abre em ${h}:${m}:${s}`;
form.style.display = "none";
}
else if (agora >= inicio && agora <= fim) {
contador.textContent = "‚úÖ Vota√ß√£o ABERTA! Participe agora.";
form.style.display = "block";
}
else {
contador.textContent = "‚õî Vota√ß√£o encerrada √†s 18:00. Obrigado por participar!";
form.style.display = "none";
}
}

setInterval(atualizarContador, 1000);
atualizarContador();

// ENVIO DO FORMUL√ÅRIO
form.addEventListener("submit", async (e) => {
e.preventDefault();

const nome = document.getElementById("nome").value.trim();
const serie = document.getElementById("serie").value.trim();
const voto = document.querySelector('input[name="voto"]:checked').value;

document.getElementById("mensagem").textContent = "‚è≥ Registrando seu voto...";

try {
const response = await fetch(scriptURL, {
method: "POST",
headers: { "Content-Type": "application/json" },
body: JSON.stringify({ nome, serie, voto })
});

if (response.ok) {
document.getElementById("mensagem").textContent = "‚úÖ Voto registrado com sucesso!";
document.getElementById("mensagem").style.color = "#00ff88";
form.reset();
} else {
document.getElementById("mensagem").textContent = "‚ùå Erro ao registrar voto.";
document.getElementById("mensagem").style.color = "red";
}
} catch (error) {
document.getElementById("mensagem").textContent = "‚ö†Ô∏è Erro de conex√£o!";
document.getElementById("mensagem").style.color = "yellow";
}
});
</script>
</body>
</html>
